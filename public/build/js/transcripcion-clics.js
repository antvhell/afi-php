let repetidor,palabras=["","ǃɲa","ǃãĩǁoas","ǀãĩǃois","ǀãĩʦiǃanǁai"],conFallos=0,maxFallos=4,indice=0,debug=!0,empezado=!1;function comienzo(){window.onload=function(){let e=function(e,i,t,n,l,a){let s="";for(let d=0;d<e.length;d++)s+="<input type='"+t+"' value='"+e[d]+"' id='"+e[d]+"' "+i+"='"+n+"' "+l+" class='"+a+"' >\n";return s}(["ǃ","o","ɲ","ã","ǀ","s","ĩ","ǁ","ǂ","a","ʘ","ʦ","i","n"],"onclick","button","comprobarLetra(this.id)","enabled","btn btn-secondary");document.getElementById("formulario").innerHTML=e+document.getElementById("formulario").innerHTML},document.getElementById("ejercicios").innerHTML=`Ejercicio ${indice+1} / ${palabras.length-1}`;let e="";for(let i=0;i<palabras[indice+1].length;i++)e+="_ ";for(let e=0;e<document.forms[0].elements.length;e++)document.forms[0].elements[e].disabled=!1;document.getElementById("empezar").disabled=!1,document.getElementById("palabra").style.visibility="visible",document.getElementById("texto").innerHTML=e,document.getElementById("glosas").style.visibility="visible",document.getElementById("transcripcion").style.visibility="hidden",document.getElementById("ejercicios").style.visibility="visible",document.getElementById("audio").style.visibility="visible",document.getElementById("empezar").style.visibility="hidden",empezado=!0,cambiaAudio(indice++)}function regresar(){conFallos=0,document.getElementById("ejercicios").innerHTML=`Ejercicio ${indice-1} / ${palabras.length-1} `;let e="";for(let i=0;i<palabras[indice-1].length;i++)e+="_ ";for(let e=0;e<document.forms[0].elements.length;e++)document.forms[0].elements[e].disabled=!1;document.getElementById("palabra").style.visibility="visible",document.getElementById("texto").innerHTML=e,document.getElementById("transcripcion").style.visibility="hidden",document.getElementById("ejercicios").style.visibility="visible",document.getElementById("audio").style.visibility="visible",document.getElementById("transcripcion").innerHTML="",document.getElementById("glosa").style.visibility="hidden",document.getElementById("transcripcion").classList.remove("alert","alert-danger"),empezado=!0,cambiaAudio(indice--),"ǃɲa"===palabras[indice]&&(document.getElementById("reiniciar").style.visibility="visible",document.getElementById("empezar").style.visibility="hidden"),"ǃãĩǁoas"===palabras[indice]&&(document.getElementById("empezar").style.visibility="visible",document.getElementById("reiniciar").style.visibility="visible"),"ǀãĩǃois"===palabras[indice]&&(document.getElementById("empezar").style.visibility="visible",document.getElementById("reiniciar").style.visibility="visible"),"ǀãĩʦiǃanǁai"===palabras[indice]&&(document.getElementById("reiniciar").style.visibility="visible")}function reinicio(){conFallos=0,empezado=!1,cambiaAudio(),clearInterval(repetidor);for(let e=0;e<document.forms[0].elements.length;e++)document.forms[0].elements[e].disabled=!0;document.getElementById("empezar").disabled=!1,document.getElementById("glosa").style.visibility="hidden",document.getElementById("transcripcion").style.visibility="visible",document.getElementById("glosa").style.visibility="hidden",document.getElementById("transcripcion").classList.remove("alert","alert-danger"),document.getElementById("transcripcion").innerHTML="",comienzo(),"ǃɲa"===palabras[indice]&&(document.getElementById("reiniciar").style.visibility="visible",document.getElementById("n").style.visibility="hidden"),"ǃãĩǁoas"===palabras[indice]&&(document.getElementById("empezar").style.visibility="visible",document.getElementById("reiniciar").style.visibility="visible"),"ǀãĩǃois"===palabras[indice]&&(document.getElementById("empezar").style.visibility="visible",document.getElementById("reiniciar").style.visibility="visible"),"ǀãĩʦiǃanǁai"===palabras[indice]&&(document.getElementById("empezar").style.visibility="visible",document.getElementById("reiniciar").style.visibility="hidden")}function comprobarLetra(e){if(empezado){document.getElementById(e).disabled=!0;let i=document.getElementById("texto").innerHTML.split(" "),t="",n=!1;for(let l=0;l<palabras[indice].length;l++)palabras[indice].charAt(l)==e?(t+=e+" ",n=!0):t+=i[l]+" ";document.getElementById("texto").innerHTML=t,-1==t.split(" ").indexOf("_")&&finJuego("Jugador"),n||(conFallos++,cambiaAudio(),conFallos==maxFallos&&finJuego("PC"))}}function cambiaAudio(){let e=empezado?conFallos:"glosas";document.getElementById("glosas").src="../../../build/sound/"+e+".wav",document.getElementById("glosas").src="../../../build/sound/"+palabras[indice]+".wav"}function finJuego(e){empezado=!1,clearInterval(repetidor),document.getElementById("ejercicios").style.visibility="visible",document.getElementById("glosa").style.visibility="visible",document.getElementById("transcripcion").style.visibility="visible","PC"==e&&(document.getElementById("transcripcion").innerHTML=`Correción: [${palabras[indice]}]`,transcripcion.classList.add("alert","alert-danger")),"ǃɲa"===palabras[indice]&&(document.getElementById("glosa").innerHTML="'estoy bien' en khoekhoe (damara)",glosa.classList.add("alert","alert-success")),"ǃãĩǁoas"===palabras[indice]&&(document.getElementById("glosa").innerHTML="'buenos días' en khoekhoe (damara)",glosa.classList.add("alert","alert-success")),"ǀãĩǃois"===palabras[indice]&&(document.getElementById("glosa").innerHTML="'buenas noches' en khoekhoe (damara)",glosa.classList.add("alert","alert-success")),"ǀãĩʦiǃanǁai"===palabras[indice]&&(document.getElementById("glosa").innerHTML="'buenas tardes' en khoekhoe (damara)",glosa.classList.add("alert","alert-success"))}comienzo();